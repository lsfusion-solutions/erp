MODULE ZReportStockDocument;

REQUIRE ZReport, StockDocumentSkuLedger;

// ----------------------------------- Проведение по товарному отчету -------------------------- //

@implementStockDocumentLedgerOut(ZReport, departmentStore);
type(ZReport l) += 'Z-отчет' IF l IS ZReport;
sumItem (ZReport ledger) += sumSkuReceiptDetail(ledger);
sumContainer (ZReport ledger) += 0.0 IF ledger IS ZReport;
skip (ZReport ledger) += date(ledger) < startDateGroupCashRegister(departmentStore(ledger));

edit(ZReport l) += ACTION edit(l);
close(ZReport l) += ACTION isClosed(l) <- TRUE;

 
stockDocumentLedger (ReceiptSaleDetail ledger) += zReport(ledger);
stockDocumentLedger (ReceiptReturnDetail ledger) += zReport(ledger);
