MODULE SaleInvoiceAlcoholNM;

REQUIRE SaleInvoice, InvoiceAlcoholNM, Warehouse, SaleAlcoholNM;

NAMESPACE Sale;

//-- только опт
alcoholDirectionType(Invoice i) += WHEN alcoholSupplierTypeOutcome(operation(i)) AND supplierStock(i) IS Warehouse THEN AlcoholDirectionType.outcome;
alcoholSupplierTypeOutcome(Invoice i) +=  alcoholSupplierTypeOutcome(operation(i)) IF supplierStock(i) IS Warehouse;

volume(InvoiceDetail d) += NUMERIC[16,5](volume[Item](sku(d))*quantity(d));
