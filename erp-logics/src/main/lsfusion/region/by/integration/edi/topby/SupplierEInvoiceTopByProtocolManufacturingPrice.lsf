MODULE SupplierEInvoiceTopByProtocolManufacturingPrice;

REQUIRE SupplierEInvoiceTopByProtocol;

NAMESPACE EDI;

GROUP lineItemExtraFieldPT0022 EXTID 'LineItemExtraField';
GROUP lineItemExtraFieldPT0023 EXTID 'LineItemExtraField';
GROUP lineItemExtraFieldPT0024 EXTID 'LineItemExtraField';

EXTEND FORM exportBlrwbl
    PROPERTIES DRAW d IN lineItemExtraFieldPT0022
        lineFieldName = IF lineItemExtraField(d, 'Отпускная цена') THEN 'Отпускная цена' EXTID 'FieldName',
        lineFieldCode = IF lineItemExtraField(d, 'Отпускная цена') THEN 'PT0022' EXTID 'FieldCode',
        lineFieldValue = IF lineItemExtraField(d, 'Отпускная цена') THEN lineItemExtraField(d, 'Отпускная цена') EXTID 'FieldValue'
    PROPERTIES DRAW d IN lineItemExtraFieldPT0023
        lineFieldName1 = IF lineItemExtraField(d, 'Оптовая надбавка') THEN 'Оптовая надбавка' EXTID 'FieldName',
        lineFieldCode1 = IF lineItemExtraField(d, 'Оптовая надбавка') THEN 'PT0023' EXTID 'FieldCode',
        lineFieldValue1 = IF lineItemExtraField(d, 'Оптовая надбавка') THEN lineItemExtraField(d, 'Оптовая надбавка') EXTID 'FieldValue'
    PROPERTIES DRAW d IN lineItemExtraFieldPT0024
        lineFieldName2 = IF lineItemExtraField(d, 'Пояснения к ценообразованию') THEN 'Пояснения к ценообразованию' EXTID 'FieldName',
        lineFieldCode2 = IF lineItemExtraField(d, 'Пояснения к ценообразованию') THEN 'PT0024' EXTID 'FieldCode',
        lineFieldValue2 = IF lineItemExtraField(d, 'Пояснения к ценообразованию') THEN lineItemExtraField(d, 'Пояснения к ценообразованию') EXTID 'FieldValue'
;

EXTEND FORM exportBlrdln
    PROPERTIES DRAW d IN lineItemExtraFieldPT0022
        lineFieldName = IF lineItemExtraField(d, 'Отпускная цена') THEN 'Отпускная цена' EXTID 'FieldName',
        lineFieldCode = IF lineItemExtraField(d, 'Отпускная цена') THEN 'PT0022' EXTID 'FieldCode',
        lineFieldValue = IF lineItemExtraField(d, 'Отпускная цена') THEN lineItemExtraField(d, 'Отпускная цена') EXTID 'FieldValue'
    PROPERTIES DRAW d IN lineItemExtraFieldPT0023
        lineFieldName1 = IF lineItemExtraField(d, 'Оптовая надбавка') THEN 'Оптовая надбавка' EXTID 'FieldName',
        lineFieldCode1 = IF lineItemExtraField(d, 'Оптовая надбавка') THEN 'PT0023' EXTID 'FieldCode',
        lineFieldValue1 = IF lineItemExtraField(d, 'Оптовая надбавка') THEN lineItemExtraField(d, 'Оптовая надбавка') EXTID 'FieldValue'
    PROPERTIES DRAW d IN lineItemExtraFieldPT0024
        lineFieldName2 = IF lineItemExtraField(d, 'Пояснения к ценообразованию') THEN 'Пояснения к ценообразованию' EXTID 'FieldName',
        lineFieldCode2 = IF lineItemExtraField(d, 'Пояснения к ценообразованию') THEN 'PT0024' EXTID 'FieldCode',
        lineFieldValue2 = IF lineItemExtraField(d, 'Пояснения к ценообразованию') THEN lineItemExtraField(d, 'Пояснения к ценообразованию') EXTID 'FieldValue'
;