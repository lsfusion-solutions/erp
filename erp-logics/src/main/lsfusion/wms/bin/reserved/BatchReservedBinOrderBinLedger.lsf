MODULE BatchReservedBinOrderBinLedger;

REQUIRE ReservedBinOrderBinLedger, BatchReservedBinLedger, BatchBinOrderBinLedger;

NAMESPACE Bin;

batch[ReservedBinLedger](BinOrderDetail ledger) += batch(ledger);

CONSTRAINT CHANGED(outBin(UserBinOrderDetail detail)) AND NOT prevAvailableQuantity(batch(detail), outBin(detail)) AND detail IS UserBinOrderDetail
    CHECKED BY outBin[UserBinOrderDetail]
    MESSAGE 'Нет доступного кол-ва партии в ячейке';