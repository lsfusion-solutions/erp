MODULE RangeSimpleStore;

REQUIRE RangeSimple;

NAMESPACE Range;

in (Range r, Store store) = in[Range, StockGroup](r, store) OR ([GROUP MIN DepartmentStore ds IF dataIn(r, ds) BY store(ds)](store) AND NOT dataInStoreFilled());

in (Sku s, Range r, Store st, DATE d) += dataIn(rangeRev(r, d), s) AND in(r, st);

include (Range r, Store store, Sku s, DATE dt) = [GROUP MIN DepartmentStore ds IF include(r, ds, s, dt) BY store(ds)](store);

rangeSimpleStore() += TRUE;

EXTEND FORM storeRange
    FILTERS include(sr, ss, d)
    FILTERS include(rn, ds, sk, d)
;
