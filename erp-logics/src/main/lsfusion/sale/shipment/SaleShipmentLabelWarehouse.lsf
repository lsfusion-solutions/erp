MODULE SaleShipmentLabelWarehouse;

REQUIRE SaleShipmentLabel, LabelWarehouse;

NAMESPACE Sale;

// ------------------------------------- Печать ценников (склад) ------------------------------ //

@defineDocumentWarehouseLabelTransaction(invoice, Invoice, sku, batch, supplierStock, shipment);

showToPrintWarehouseLabelTransaction 'Показывать' (Invoice invoice) = isPosted(invoice) AND NOT
    skip[PriceTransactionDocument](invoice) AND customerStock(invoice) IS Warehouse;

EXTEND FORM invoices
    PROPERTIES(i) createWarehouseLabelTransaction SHOWIF showToPrintWarehouseLabelTransaction(i),
        createSnapshotWarehouseLabelTransaction SHOWIF isPosted(i) AND customerStock(i) IS Warehouse
;

DESIGN invoices {
    PROPERTY(createSnapshotLabelTransaction(i)) { showIf = isPosted(i) AND customerStock(i) IS DepartmentStore; }
    label {
        labelFirst {
            MOVE PROPERTY (createWarehouseLabelTransaction(i)) { alignment = STRETCH; }
            MOVE PROPERTY (createSnapshotWarehouseLabelTransaction(i)) { alignment = STRETCH; }
        }
    }
}